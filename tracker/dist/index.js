parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"s2N9":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e){var n=t(e);return null!=e&&("object"==n||"function"==n)}var r=i,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},a="object"==t(s)&&s&&s.Object===Object&&s,o=a,l="object"==("undefined"==typeof self?"undefined":t(self))&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),u=c,d=function(){return u.Date.now()},f=d,v=u.Symbol,m=v,b=Object.prototype,h=b.hasOwnProperty,p=b.toString,T=m?m.toStringTag:void 0;function k(e){var t=h.call(e,T),n=e[T];try{e[T]=void 0;var i=!0}catch(s){}var r=p.call(e);return i&&(t?e[T]=n:delete e[T]),r}var g=k,I=Object.prototype,w=I.toString;function y(e){return w.call(e)}var C=y,E="[object Null]",M="[object Undefined]",O=m?m.toStringTag:void 0;function j(e){return null==e?void 0===e?M:E:O&&O in Object(e)?g(e):C(e)}var L=j;function x(e){return null!=e&&"object"==t(e)}var S=x,A="[object Symbol]";function B(e){return"symbol"==t(e)||S(e)&&L(e)==A}var P=B,R=NaN,$=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,_=/^0o[0-7]+$/i,z=parseInt;function D(e){if("number"==typeof e)return e;if(P(e))return R;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace($,"");var n=W.test(e);return n||_.test(e)?z(e.slice(2),n?2:8):N.test(e)?R:+e}var F=D,U="Expected a function",q=Math.max,G=Math.min;function H(e,t,n){var i,s,a,o,l,c,u=0,d=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError(U);function b(t){var n=i,r=s;return i=s=void 0,u=t,o=e.apply(r,n)}function h(e){var n=e-c;return void 0===c||n>=t||n<0||v&&e-u>=a}function p(){var e=f();if(h(e))return T(e);l=setTimeout(p,function(e){var n=t-(e-c);return v?G(n,a-(e-u)):n}(e))}function T(e){return l=void 0,m&&i?b(e):(i=s=void 0,o)}function k(){var e=f(),n=h(e);if(i=arguments,s=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(p,t),d?b(e):o}(c);if(v)return l=setTimeout(p,t),b(c)}return void 0===l&&(l=setTimeout(p,t)),o}return t=F(t)||0,r(n)&&(d=!!n.leading,a=(v="maxWait"in n)?q(F(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),k.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=s=l=void 0},k.flush=function(){return void 0===l?o:T(f())},k}var J=H,K="Expected a function";function Q(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(K);return r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),J(e,t,{leading:i,maxWait:t,trailing:s})}var V=Q,X=["scroll","resize"],Y=["wheel","keydown","keyup","mousedown","mousemove","touchstart","touchmove","click","contextmenu"],Z=function(){function e(e){var t=e.timeIntervalEllapsedCallbacks,i=void 0===t?[]:t,r=e.absoluteTimeEllapsedCallbacks,s=void 0===r?[]:r,a=e.checkCallbacksIntervalMs,o=void 0===a?100:a,l=e.browserTabInactiveCallbacks,c=void 0===l?[]:l,u=e.idleCallbacks,d=void 0===u?[]:u,f=e.stopTimerOnTabchange,v=void 0===f||f,m=e.activeCallbacks,b=void 0===m?[]:m,h=e.browserTabActiveCallbacks,p=void 0===h?[]:h,T=e.idleTimeoutMs,k=void 0===T?3e3:T,g=this;this.onBrowserTabInactive=function(e){g.isRunning()&&g.stopTimerOnTabchange&&g.stopTimer(),g.browserTabInactiveCallbacks.forEach(function(e){return e(g.getTimeInMilliseconds())})},this.onBrowserTabActive=function(e){g.isRunning()||g.startTimer(),g.browserTabActiveCallbacks.forEach(function(e){return e(g.getTimeInMilliseconds())})},this.onTimePassed=function(){g.absoluteTimeEllapsedCallbacks.forEach(function(e,t){var n=e.callback,i=e.pending,r=e.timeInMilliseconds;i&&r<=g.getTimeInMilliseconds()&&(n(g.getTimeInMilliseconds()),g.absoluteTimeEllapsedCallbacks[t].pending=!1)}),g.timeIntervalEllapsedCallbacks.forEach(function(e,t){var n=e.callback,i=e.timeInMilliseconds,r=e.multiplier;i<=g.getTimeInMilliseconds()&&(n(g.getTimeInMilliseconds()),g.timeIntervalEllapsedCallbacks[t].timeInMilliseconds=r(i))}),g.currentIdleTimeMs>=g.idleTimeoutMs&&g.isRunning()?(g.idle=!0,g.stopTimer(),g.idleCallbacks.forEach(function(e){return e(g.getTimeInMilliseconds())})):g.currentIdleTimeMs+=g.checkCallbacksIntervalMs},this.resetIdleTime=function(){g.idle&&g.startTimer(),g.activeCallbacks.forEach(function(e){return e(g.getTimeInMilliseconds())}),g.idle=!1,g.currentIdleTimeMs=0},this.registerEventListeners=function(){var e={passive:!0},t=n({},e,{capture:!0});window.addEventListener("blur",g.onBrowserTabInactive,t),window.addEventListener("focus",g.onBrowserTabActive,t);var i=V(g.resetIdleTime,2e3,{leading:!0,trailing:!1});X.forEach(function(e){window.addEventListener(e,i,t)}),Y.forEach(function(t){return document.addEventListener(t,i,e)})},this.unregisterEventListeners=function(){window.removeEventListener("blur",g.onBrowserTabInactive),window.removeEventListener("focus",g.onBrowserTabActive),X.forEach(function(e){return window.removeEventListener(e,g.resetIdleTime)}),Y.forEach(function(e){return document.removeEventListener(e,g.resetIdleTime)})},this.checkCallbacksOnInterval=function(){g.checkCallbackIntervalId=window.setInterval(function(){g.onTimePassed()},g.checkCallbacksIntervalMs)},this.startTimer=function(){g.checkCallbackIntervalId||g.checkCallbacksOnInterval();var e=g.times[g.times.length-1];e&&null===e.stop||(g.times.push({start:performance.now(),stop:null}),g.running=!0)},this.stopTimer=function(){g.times.length&&(g.times[g.times.length-1].stop=performance.now(),g.running=!1)},this.addTimeIntervalEllapsedCallback=function(e){g.timeIntervalEllapsedCallbacks.push(e)},this.addAbsoluteTimeEllapsedCallback=function(e){g.absoluteTimeEllapsedCallbacks.push(e)},this.addBrowserTabInactiveCallback=function(e){g.browserTabInactiveCallbacks.push(e)},this.addBrowserTabActiveCallback=function(e){g.browserTabActiveCallbacks.push(e)},this.addIdleCallback=function(e){g.idleCallbacks.push(e)},this.addActiveCallback=function(e){g.activeCallbacks.push(e)},this.getTimeInMilliseconds=function(){return g.times.reduce(function(e,t){return t.stop?e+=t.stop-t.start:e+=performance.now()-t.start,e},0)},this.isRunning=function(){return g.running},this.isIdle=function(){return g.idle},this.reset=function(){g.times=[]},this.destroy=function(){g.unregisterEventListeners(),g.checkCallbackIntervalId&&window.clearInterval(g.checkCallbackIntervalId)},this.running=!1,this.times=[],this.idle=!1,this.currentIdleTimeMs=0,this.marks={},this.measures={},this.stopTimerOnTabchange=v,this.browserTabActiveCallbacks=p,this.browserTabInactiveCallbacks=c,this.checkCallbacksIntervalMs=o,this.idleTimeoutMs=k,this.timeIntervalEllapsedCallbacks=i,this.absoluteTimeEllapsedCallbacks=s,this.idleCallbacks=d,this.activeCallbacks=b,this.registerEventListeners()}return e.prototype.mark=function(e){this.marks[e]||(this.marks[e]=[]),this.marks[e].push({time:this.getTimeInMilliseconds()})},e.prototype.getMarks=function(e){if(!(this.marks[e].length<1))return this.marks[e]},e.prototype.measure=function(e,t,n){var i=this.marks[t],r=i[i.length-1],s=this.marks[n],a=s[s.length-1];this.measures[e]||(this.measures[e]=[]),this.measures[e].push({name:e,startTime:r.time,duration:a.time-r.time})},e.prototype.getMeasures=function(e){if(this.measures[e]||!(this.measures[e].length<1))return this.measures[e]},e}(),ee=Z;exports.default=ee;
},{}],"C9JJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Config=void 0;var e=document.currentScript,t=Number((null==e?void 0:e.getAttribute("idle-time"))||0),i=(null==e?void 0:e.getAttribute("website-id"))||"",o=(null==e?void 0:e.getAttribute("analytics-endpoint"))||"http://localhost:8000",l=Boolean((null==e?void 0:e.getAttribute("use-cookie"))||!1),n={idle_time:t,website_id:i,analytics_endpoint:o,use_cookie:l};exports.Config=n;
},{}],"WV1f":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResetTimer=exports.GetTimePassed=exports.StartTimer=void 0;var t,r=e(require("browser-interaction-time")),i=require("./config"),s=function(){(t=new r.default({idleTimeoutMs:1e3*i.Config.idle_time})).startTimer()};exports.StartTimer=s;var o=function(){return t.getTimeInMilliseconds()/1e3};exports.GetTimePassed=o;var n=function(){t.reset()};exports.ResetTimer=n;
},{"browser-interaction-time":"s2N9","./config":"C9JJ"}],"kbLt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.urlAlphabet=void 0;let e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";exports.urlAlphabet=e;
},{}],"ya15":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"urlAlphabet",{enumerable:!0,get:function(){return r.urlAlphabet}}),exports.random=exports.customRandom=exports.customAlphabet=exports.nanoid=void 0;var r=require("./url-alphabet/index.js");var t=function(r){return crypto.getRandomValues(new Uint8Array(r))};exports.random=t;var e=function(r,t,e){var n=(2<<Math.log(r.length-1)/Math.LN2)-1,o=-~(1.6*n*t/r.length);return function(){for(var a="";;)for(var u=e(o),p=o;p--;)if((a+=r[u[p]&n]||"").length===t)return a}};exports.customRandom=e;var n=function(r,n){return e(r,n,t)};exports.customAlphabet=n;var o=function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",e=crypto.getRandomValues(new Uint8Array(r));r--;){var n=63&e[r];t+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return t};exports.nanoid=o;
},{"./url-alphabet/index.js":"kbLt"}],"yXD7":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(t,o){"object"===("undefined"==typeof exports?"undefined":n(exports))&&"undefined"!=typeof module?module.exports=o():"function"==typeof e&&e.amd?e(o):(t=t||self,function(){var e=t.Cookies,n=t.Cookies=o();n.noConflict=function(){return t.Cookies=e,n}}())}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}return function t(n,o){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+c}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},r=0;r<t.length;r++){var i=t[r].split("="),c=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(o[u]=n.read(c,u),e===u)break}catch(f){}}return e?o[e]:o}},remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})});
},{}],"BHXf":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PAGE_SCROLL=exports.GetUTMParams=exports.GetCurrentSession=void 0;var t=require("nanoid"),r=e(require("js-cookie")),s=require("./config"),o=0;exports.PAGE_SCROLL=o;var n=function(){var e=(0,t.nanoid)();if(s.Config.use_cookie){var o=r.default.get("session_id");return o||(r.default.set("session_id",e,{expires:31536e3,path:"/"}),e)}var n=sessionStorage.getItem("session_id");return n||(sessionStorage.setItem("session_id",e),e)};exports.GetCurrentSession=n;var i=function(){var e=new URLSearchParams(window.location.search);return{utm_source:e.get("utm_source"),utm_medium:e.get("utm_medium"),utm_campaign:e.get("utm_campaign")}};exports.GetUTMParams=i;var u=function(){var e=document.documentElement,t=document.body,r="scrollTop",s="scrollHeight";return Math.round((e[r]||t[r])/((e[s]||t[s])-e.clientHeight)*100)};setInterval(function(){var e=u();o<e&&(exports.PAGE_SCROLL=o=e)},500);
},{"nanoid":"ya15","js-cookie":"yXD7","./config":"C9JJ"}],"kXwH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SendEvent=void 0;var e=require("./util"),t=require("./config"),i=require("./time_counter"),n=function(t){var i=(0,e.GetUTMParams)();return{event:t,session_id:(0,e.GetCurrentSession)(),domain:window.location.hostname,page_route:location.pathname,duration:0,scrolled_percentage:e.PAGE_SCROLL,referrer:document.referrer,utm_source:i.utm_source,utm_medium:i.utm_medium,utm_campaign:i.utm_campaign,device_height:window.outerHeight,device_width:window.outerWidth}},r=function(e){var r=(0,i.GetTimePassed)(),o=n(e);console.log(o);var a=new FormData;a.append("data",JSON.stringify(o)),r>t.Config.idle_time&&navigator.sendBeacon(t.Config.analytics_endpoint,a)};exports.SendEvent=r;
},{"./util":"BHXf","./config":"C9JJ","./time_counter":"WV1f"}],"QCba":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SendEvent=exports.InitializeAnalytics=void 0;var e=require("./time_counter"),t=require("./events");Object.defineProperty(exports,"SendEvent",{enumerable:!0,get:function(){return t.SendEvent}});var n=function(){(0,e.StartTimer)(),window.addEventListener("unload",function(){(0,t.SendEvent)("page_view")})};exports.InitializeAnalytics=n,n();
},{"./time_counter":"WV1f","./events":"kXwH"}]},{},["QCba"], null)
//# sourceMappingURL=/index.js.map